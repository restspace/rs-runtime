# JSON Path

This is a way of referring to a value or group of values within a JSON object hierarchy.

## ‘/’ separator

This separator simply follows the next property down within the hierarchy, for instance:

```json
{
	"a": 9
	"b": {
		"c": {
			"d": 88
		},
		"e": "xxx"
	}
}
```

The path `b/c/d` will applied to this JSON object will return the value `88`. Note you can optionally use `.` instead of `/` so `b.c.d` will effectively be the same path, returning the same value `88`.

## ‘[]’ filter

If you have a path pointing to a list value, you need to use the `[]` filter to decide which elements of the list to include in the result. For instance:

```json
{
	"a": 9
	"b": [
		{
			"x": 100,
			"y": "hello"
		},
		{
			"x": 200,
			"y": "goodbye"
		},
		{
			"x": 300,
			"y": "hi"
		}
	]
}
```

There are 3 types of filtering that can be done here:

- `[]` returns the whole list
- `[3]` or `[last()]` or `[1 + 2]` all return the third item: you can put any Javascript expression here with limits that returns a number, and just the item at that index will be returned (not as a list).
- `[x > 150]` or `[x === 200 || x === 300]` will both return a list containing the last two objects only. You can put any Javascript expression here which returns a boolean. It can refer to any of the properties of the objects. You can use the `$this` special variable to refer to the list item as a whole, particularly if it isn’t an object.

Note that list results are flattened to one level of list.

Also you can put successive filters to deal with lists of lists. e.g.

```json
[
	[
		2,
		4,
		6
	]
]
```

In this case you could use the path `[][$this < 5]` to get the first two items as the result i.e. `[2, 4]`.

## Returned value

The value returned from a JSON path is a single value if the expression contains only properties and list selectors where the expression is a number (i.e. an index). If the expression contains any boolean filters, the value returned is a flat list with all the values which pass the filters.